Use Depth-First-Search Algorithm, do whatever you love.