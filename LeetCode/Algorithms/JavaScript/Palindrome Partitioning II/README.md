You should know something about the algorithm **Manacher**, then do a dynamic programming.